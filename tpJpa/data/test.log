/*C15*/SET SCHEMA PUBLIC
drop table Person if exists
create table Person (idPerson bigint generated by default as identity (start with 1), dateNaiss varchar(255), firstName varchar(255), genre varchar(255), name varchar(255), profile varchar(255), primary key (idPerson))
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DROP TABLE home
DROP TABLE person
/*C16*/SET SCHEMA PUBLIC
drop table Home if exists
drop table Person if exists
create table Home (idHome bigint generated by default as identity (start with 1), IP varchar(255), adresse varchar(255), superficie varchar(255), pers_idPerson bigint, primary key (idHome))
create table Person (idPerson bigint generated by default as identity (start with 1), dateNaiss varchar(255), firstName varchar(255), genre varchar(255), name varchar(255), profile varchar(255), primary key (idPerson))
alter table Home add constraint FK2268FFE3614EFD foreign key (pers_idPerson) references Person
INSERT INTO PERSON VALUES(1,'15 sept 1991','kavi','homme','Ganesh','inexistant')
INSERT INTO HOME VALUES(1,'145-256-452','2, rue de la larvoli\u00e8re','10255',1)
COMMIT
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
alter table Home drop constraint FK2268FFE3614EFD
drop table Home if exists
drop table Person if exists
drop table Person_Person if exists
create table Home (idHome bigint generated by default as identity (start with 1), IP varchar(255), adresse varchar(255), superficie varchar(255), pers_idPerson bigint, primary key (idHome))
create table Person (idPerson bigint generated by default as identity (start with 1), dateNaiss varchar(255), firstName varchar(255), genre varchar(255), name varchar(255), profile varchar(255), primary key (idPerson))
create table Person_Person (Person_idPerson bigint not null, amis_idPerson bigint not null, unique (amis_idPerson))
alter table Home add constraint FK2268FFE3614EFD foreign key (pers_idPerson) references Person
alter table Person_Person add constraint FKB9039F7FEB36CF9D foreign key (amis_idPerson) references Person
alter table Person_Person add constraint FKB9039F7F1480217E foreign key (Person_idPerson) references Person
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
alter table Home drop constraint FK2268FFE3614EFD
alter table Person_Person drop constraint FKB9039F7FEB36CF9D
alter table Person_Person drop constraint FKB9039F7F1480217E
drop table Home if exists
drop table Person if exists
drop table Person_Person if exists
create table Home (idHome bigint generated by default as identity (start with 1), IP varchar(255), adresse varchar(255), superficie varchar(255), pers_idPerson bigint, primary key (idHome))
create table Person (idPerson bigint generated by default as identity (start with 1), dateNaiss varchar(255), firstName varchar(255), genre varchar(255), name varchar(255), profile varchar(255), primary key (idPerson))
create table Person_Person (Person_idPerson bigint not null, amis_idPerson bigint not null, unique (amis_idPerson))
alter table Home add constraint FK2268FFE3614EFD foreign key (pers_idPerson) references Person
alter table Person_Person add constraint FKB9039F7FEB36CF9D foreign key (amis_idPerson) references Person
alter table Person_Person add constraint FKB9039F7F1480217E foreign key (Person_idPerson) references Person
DISCONNECT
/*C14*/DISCONNECT
